<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <title>Checkin</title>
        
		<!-- Adapted from API panel example-->
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css">
        <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
        <script src="http://www.parsecdn.com/js/parse-1.2.1.min.js"></script>
		<script type="text/javascript" src="cordova-2.4.0.js"></script>
		<script src="js/barcodescanner.js"></script>
			
		<!-- Link css and js files -->
		<link rel="stylesheet" href="css/my.css" />
		<script src="js/handlebars.js"></script>
        <script src="js/Checkin/Checkin.js"></script>
		<script src="js/Checkin/Share.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>

        <!-- User-generated js -->
        <script>
            try {

    $(function() {

    });

  } catch (error) {
    console.error("Your javascript has an error: " + error);
  }
        </script>
    </head>
    <body>
        <!-- Main page -->
        <div data-role="page" data-url ="checkin-main" id="checkin-main" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">Check In</h3>
				<a href="#nav-panel" data-icon="bars" data-iconpos="notext">Menu</a>
            </div>
			<!-- Content -->
            <div data-role="content" class="jqm-content">
                <!-- Input text box; not search -->
				<div class="ui-grid-b" id="eventBar">
					<div class="ui-block-a">
						<label for="checkinInput" class="ui-hidden-accessible">Enter Event ID: </label>
						<input name="checkinInput" id="checkinInput" placeholder="Enter Event ID" value="" type="text">
					</div>
					<div class="ui-block-b">
						<a id="submitButton" data-role="button" data-mini="true">Go</a>
					</div>
                    <div class="ui-block-c">
						<button class = "buttonCam" data-mini="true"  onclick="scan()" data-inline="true" data-icon="camera" data-iconpos="right">Scan QR</button>
					</div>
				</div>             
                
				
				<!-- Recommended events -->
		<div id = "recommendedEventsdiv">
			<script id="recommendedEvents-template" type="text/x-handlebars-template">
				<ul data-role="listview" data-inset="true"  data-divider-theme="a" id="recommendedEvents" class="listLook">
					<li data-role="list-divider">Recommended Events</li>
					{{#recommendedEvents}}
					<li><a href="#event-details" onclick="searchSession('{{event_id}}')">
						<h2>{{event_name}}</h2>
						<p>From: {{from_id}}, {{comment}}</p>
						<p class="ui-li-aside"><strong>2:00</strong>PM</p>
					</a></li>
					{{/recommendedEvents}}
				</ul>
			</script>	
		</div>		
				<!-- Listview for current events -->
				<div id = "currentEventsdiv">
					<script id="currentEvents-template" type="text/x-handlebars-template">
					<ul data-role="listview" data-inset="true"  data-divider-theme="a" id="currentEvents" class="listLook">
					<li data-role="list-divider">Current Events</li>
					{{#currentEvents}}
					<li><a  onclick="searchSession('{{id}}')">
						<h2>{{name}}</h2>
						<p>Location: {{location}}</p>
						<p class="ui-li-aside"><strong>{{time}}</strong></p>
					</a></li>
					{{/currentEvents}}
					</ul>
					</script>
				</div>
				<!-- Link to attended events; please give me feedback on where to place this -->
				<a href="#event-attended" data-role="button" onclick="recentCheckins()" data-mini="true">View Attended Events</a>
            </div>
			<!-- Navigation panel -->
			<div data-role="panel" data-position-fixed="true"  data-display="reveal" data-theme="a" id="nav-panel">
				<ul data-role="listview" data-theme="a" class="nav-search">
					<li><a href="home.html#home-main" rel="external">
						<img src="images/Home_1.png" alt="Home">Home
					</a></li>
					<li><a href="#checkin-main" data-rel="close">
						<img src="images/Check_In_1.png" alt="Check In">Check In
					</a></li>
					<li><a href="exchange.html#exchange-main" rel="external">
						<img src="images/Exchange_1.png" alt="Exchange">Exchange
					</a></li>
					<li><a href="microblog.html#microblog-main" rel="external">
						<img src="images/Microblog_1.png" alt="Microblog">Microblog
					</a></li>
					<li><a href="#">
						<img src="images/Note_1.png" alt="Notes">Notes
					</a></li>
					<li><a href="#">
						<img src="images/Agenda_1.png" alt="Agenda">Agenda
					</a></li>
					<li><a href="#">
						<img src="images/People_1.png" alt="People">People
					</a></li>
				</ul>
			</div>
        </div>		
		
		<!-- Details page -->
        <div data-role="page" data-url ="event-details" id="event-details" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">Event Details</h3>
            </div>
			<!-- Content -->
			<div data-role="content" class="jqm-content">
				<div id="eventDetails" class="eventDetails">
					<script id="eventDetails-template" type="text/x-handlebars-template">
					<ul data-role="listview" data-inset="true" data-divider-theme="a">
					<li data-role="list-divider">
						<h1>{{name}}</h1>
						<p class="ui-li-aside">
						<button class = "buttonShare" data-mini="true" onclick="window.location='#event-share'" data-inline="true" data-icon="share" data-iconpos="right">Share</button>
						</p>
					</li>
					<li>
						<table class="personDetails">
						<tr>
							<th>Presenter:</th> <td>{{speaker}}</td>
						</tr>
						<tr>
							<th>Location:</th> <td>{{location}}</td>
						</tr>
						<tr>
							<th>Date:</th> <td>{{date}}</td>
						</tr>
						<tr>
							<th>Time:</th> <td>{{time}}</td>
						</tr>
						<tr>
							<th>Summary:</th>
							<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis risus nibh, porttitor in dictum eu, vestibulum semper risus. Aliquam vitae odio porta sapien malesuada ultrices.</td>
						</tr>
						<tr>
							<th>Tag:</th> <td>#HPScan</td>
						</tr>
						</table>
					</li>
					<li><div class="options ui-grid-a">
						<div class="ui-block-a">
							<a href="#checkin-main" onclick = "reload()" data-role="button">Cancel</a>
						</div>
						<div class="ui-block-b">
							<button class = "buttonCheckIn" type = "button" onclick="checkInConfirm()" data-theme="a">Check In</button>
						</div>
					</div></li>
				</ul>
				</script>
				</div>
				<!-- Listview for comments -->
				<div id="commentSection">
					<script id="comments-template" type="text/x-handlebars-template">
					<ul data-role="listview" data-inset="true"  data-divider-theme="a" class="listLook">
					<li data-role="list-divider" class="header">Comments</li>
						{{#commentSection}}
						<li>
							<img src="images/person1.PNG" alt="Photo">
							<h2>{{name}}</h2>
							<p>{{comment}}</p>
							<!--<p class="ui-li-aside"><strong>2:55</strong>PM</p>-->
						</li>
						{{/commentSection}}
						<li>
							<img src="images/personMe.PNG" alt="Photo">
							<h2>My Name</h2>
							<label for="myComment" class="ui-hidden-accessible">Add your comment</label>
							<textarea cols="40" rows="5" id="myComment" name="myComment" placeholder="Add your comment"></textarea>
							<div id="commentButton">
							<a id="commentSubmit" onclick= "comment()" data-role="button" data-mini="true">Submit</a>
							</div>
						</li>
					</ul>
					</script>
				</div>
            </div>
        </div>
		
		
		<!-- NEW PAGES; PLEASE LOOK THESE OVER -->
		
		<!-- Attended events page -->
        <div data-role="page" data-url ="event-attended" id="event-attended" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">Attended Events</h3>
				<a href="#" data-rel="back" data-icon="back" data-iconpos="notext">Back</a>
            </div>
            <div id="eventAttended" data-role="content" class="jqm-content">
            	<script id="eventsAttended-template" type="text/x-handlebars-template">
				<ul data-role="listview" id="attendedEvents" data-autodividers="false" data-filter="true" 
				data-inset="true"  data-divider-theme="a" data-filter-placeholder="Find an event" class="listLook">
					{{#eventsAttended}}
					<li><a onclick="searchChecked('{{id}}')">
						<h2>{{eventName}}</h2>
						<p>Location: {{location}}</p>
						<p class="ui-li-aside"><strong>{{time}}</strong></p>
					</a></li>
					{{/eventsAttended}}
				</ul>
				</script>
            </div>
        </div>
		
		<!-- Checked in event -->
        <div data-role="page" data-url ="event-checked" id="event-checked" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">Event Details</h3>
				<a href="#" data-rel="back" data-icon="back" data-iconpos="notext">Back</a>
            </div>
			<!-- Content -->
			<div data-role="content" class="jqm-content">
				<div id="eventChecked" class="eventChecked">
					<script id="eventChecked-template" type="text/x-handlebars-template">
	                <ul data-role="listview" data-inset="true" data-divider-theme="a">
						<li data-role="list-divider">
							<h1>{{name}}</h1>
							<p class="ui-li-aside">
							<button class = "buttonShare" data-mini="true" onclick="" data-inline="true" data-icon="share" data-iconpos="right">Share</button>
							</p>
						</li>
						<li><table class="personDetails">
							<tr>
								<th>Presenter:</th> <td>{{speaker}}</td>
							</tr>
							<tr>
								<th>Date:</th> <td>{{date}}</td>
							</tr>
							<tr>
								<th>Time:</th> <td>{{time}}</td>
							</tr>
							<tr>
								<th>Location:</th> <td>{{location}}</td>
							</tr>
							<tr>
								<th>Summary:</th>
								<td>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis risus nibh, porttitor in dictum eu, vestibulum semper risus. Aliquam vitae odio porta sapien malesuada ultrices. Pellentesque velit nisi, vulputate sit amet imperdiet nec, fringilla vel justo.</td>
							</tr>
							<tr>
								<th>Tag:</th> <td>#HPScan</td>
							</tr>
							<tr>
								<th>Checked In:</th> <td>Time</td>
							</tr>
						</table></li>
						<li><div class="options ui-grid-a">
							<div class="ui-block-a">
								<a href="#" data-role="button">Attach Note</a>
							</div>
							<div class="ui-block-b">
								<a href="microblog.html#microblog-main" rel="external" data-role="button">Post About It</a>
							</div>
						</div></li>
					</ul>
					</script>
				</div>
				<!-- Listview for comments -->
				<ul data-role="listview" data-inset="true"  data-divider-theme="a" class="listLook">
					<li data-role="list-divider" class="header">Comments</li>
					<li>
						<img src="images/person1.PNG" alt="Photo">
						<h2>Stephen Weber</h2>
						<p>Decent session. Presenter has another similar lecture tomorrow. Check it out</p>
						<p class="ui-li-aside"><strong>2:55</strong>PM</p>
					</li>
					<li>
						<img src="images/personNew.PNG" alt="Photo">
						<h2>Leeroy Jenkins</h2>
						<p>Great event!</p>
						<p class="ui-li-aside"><strong>3:05</strong>PM</p>
					</li>
					<li>
						<img src="images/personMe.PNG" alt="Photo">
						<h2>My Name</h2>
						<label for="myComment" class="ui-hidden-accessible">Add your comment</label>
						<textarea cols="40" rows="5" id="myComment" name="myComment" placeholder="Add your comment"></textarea>
						<div id="commentButton">
						<a href="#" data-role="button" data-mini="true">Submit</a>
						</div>
					</li>
				</ul>
            </div>
        </div>
		<!-- Share page -->
        <div data-role="page" data-url ="event-share" id="event-share" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">Share Event</h3>
				<a href="#nav-panel" data-icon="bars" data-iconpos="notext">Menu</a>
            </div>
			<!-- Content -->
            <div data-role="content" class="jqm-content">
				<!-- Quick post -->
				<ul data-role="listview" data-inset="true" data-divider-theme="a" id="quickPost" class="listLook">
					<li data-role="list-divider">Share /Event Name/
					</li>
					<li><div>
						<label for="messageTo">Send To:</label>
						<textarea cols="40" rows="3" name="messageTo" id="messageTo" placeholder="Username"></textarea>
						</div>
					</li>
					<li><div>
						<label for="messageBody">Post your message here</label>
						<textarea cols="40" rows="8" name="messageBody" id="messageBody" placeholder="Post your message here"></textarea>
						</div>
					</li>
					<li><div class="ui-grid-a">
						<div class="ui-block-a">
						</div>
						<div class="ui-block-b">
							<a href="#" onclick="share()" data-role="button" data-mini="true">Share</a>
						</div>
					</div></li>
				</ul>
            </div>
        </div>
    </body>
</html>
