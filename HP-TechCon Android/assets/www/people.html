<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <title>People</title>
        
                <!-- Adapted from API panel example-->
                <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css">
                <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
                <script src="http://www.parsecdn.com/js/parse-1.2.1.min.js"></script>
                <script type="text/javascript" src="cordova-2.4.0.js"></script>
                
                <!-- Link css and js files -->
                <link rel="stylesheet" href="css/my.css" />
                <script src="js/handlebars.js"></script>
                <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
                <script src="js/People/people.js"></script>
                <script src="js/People/personDetails.js"></script>

    </head>
    <body>
        <!-- Main page -->
        <div data-role="page" data-url ="people-main" id="people-main" class="ui-responsive-panel">
            <!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">People</h3>
				<a href="#nav-panel" data-icon="bars" data-iconpos="notext" class="ui-icon-nodisc" data-iconshadow="false">Menu</a>
            </div>
			<!-- Content -->
            <div data-role="content" class="jqm-content">
				<!-- List of all people -->
				<div id="peoplediv">
					<script id="people-template" type="text/x-handlebars-template">
					<ul data-role="listview" id="peopleList" data-autodividers="true" data-filter="true" data-inset="true"  data-divider-theme="a" data-filter-placeholder="Find a person" class="listLook" data-icon="false">
						{{#peopleList}}
						<li id="{{id}}">
							<a id="{{id}}">
								<img src="{{image}}" alt="Photo">
								<h2 id="{{id}}">{{lastName}}, {{name}}</h2>
								<p id="{{id}}">Department - Place</p>
						</a></li>
						{{/peopleList}}
					</ul>
					</script>
				</div>
            </div>
            <!-- Navigation panel -->
			<div data-role="panel" data-position-fixed="true"  data-display="reveal" data-theme="a" id="nav-panel">
				<ul data-role="listview" data-theme="a" class="nav-search" data-icon="false">
					<li><a href="home.html#home-main" rel="external">
						<img src="images/Home_1.png" alt="Home">Home
					</a></li>
					<li><a href="checkin.html#checkin-main" rel="external">
						<img src="images/Check_In_1.png" alt="Check In">Check In
					</a></li>
					<li><a href="exchange.html#exchange-main" rel="external">
						<img src="images/Exchange_1.png" alt="Exchange">Exchange
					</a></li>
					<li><a href="microblog.html#microblog-main" rel="external">
						<img src="images/Microblog_1.png" alt="Microblog">Microblog
					</a></li>
					<li><a href="#people-main" data-rel="close">
						<img src="images/People_1.png" alt="People">People
					</a></li>
				</ul>
			</div>
        </div>
        
		<!-- Details page -->
        <div data-role="page" data-url ="person-details" id="person-details" class="ui-responsive-panel">
			<!-- Header -->
            <div data-role="header" data-theme="a" data-position="fixed">
                <h3 class="headerTitle">People</h3>
				<a href="#checkin-main" data-rel="back" data-icon="barrow" data-iconpos="notext" class="ui-icon-nodisc" data-iconshadow="false">Back</a>
            </div>
			<!-- Content -->
			<div data-role="content" class="jqm-content">
				<!-- Person details-->
				<div id="peopleDetails" class="peopleDetails">
					<script id="peopleDetails-template" type="text/x-handlebars-template">
					<ul data-role="listview" data-inset="true" data-divider-theme="a" data-icon="false">
						<li data-role="list-divider">
							<h1>{{firstName}} {{lastName}}</h1>
						</li>
						<li><div class="personDetails ui-grid-a">
							<div class="ui-block-a">
								<img src="{{image}}" alt="Photo" class="portrait">
							</div>
							<div class="ui-block-b">
								<table class="personDetails">
									<tr>
										<th>Email:</th> <td>{{email}}</td>
									</tr>
									<tr>
										<th>Place:</th> <td>{{location}}</td>
									</tr>
									<tr>
										<th>Dept:</th> <td>{{department}}</td>
									</tr>
									<tr>
										<th>Title:</th> <td>{{title}}</td>
									</tr>
								</table>
							</div>
						</div></li>
						<li><a href="exchange.html#exchange-main" rel="external">Exchange with XXXX
						</a></li>
					</ul>
					</script>
				</div>
				<!-- Links and counts to -->
				<div id="peopleEvents">
					<div id="peopleCheckInOuterDiv">
						<script id="peopleCheckIn-template" type="text/x-handlebars-template">	
						<div id="peopleCheckInDiv" data-role="collapsible" data-theme="a">
							<h2>Recent Check-Ins</h2>
							<ul data-role="listview" id="peopleCheckin" class="listLook" data-icon="false">
								{{#peopleCheckins}}
								<li id="{{eventID}}">
									<a id="{{eventID}}">
									<h2 id="{{eventID}}">{{eventName}}</h2>
									<p id="{{eventID}}">Location: {{eventLocation}}</p>
									<em id="{{eventID}}">Checked in at {{time}}</em>
								</a></li>
								{{/peopleCheckins}}
							</ul>
						</div>
						</script>
					</div>
					<div id="peopleMicroOuterDiv">
						<script id="peopleMicro-template" type="text/x-handlebars-template">
						<div id="peopleMicroDiv" data-role="collapsible" data-theme="a">
							<h2>Recent Microblog Posts</h2>
							<ul data-role="listview" id="peopleMicro" class="listLook" data-icon="false">
								{{#peopleMicro}}
								<li><a>
									<h2>Posted at {{time}}</h2>
									<p>{{post}}</p>
									<em>Comments(X)</em>
								</a></li>
								{{/peopleMicro}}
							</ul>
						</div>
						</script>
					</div>
					<div id="peopleExchangeOuterDiv">
						<script id="peopleExchanges-template" type="text/x-handlebars-template">
						<div id="peopleExchangeDiv" data-role="collapsible" data-theme="a">
							<h2>Recent Exchanges</h2>
							<ul data-role="listview" id="peopleExchange" class="listLook" data-icon="false">
								{{#peopleExchange}}
								<li id="{{id}}">
									<a id="{{id}}">
									<img src="{{id}}" alt="Photo">
									<h2 id="{{id}}">{{Person}}</h2>
									<p id="{{id}}">Exchanged at {{time}}</p>
								</a></li>
								{{/peopleExchange}}
							</ul>
						</div>
						</script>
					</div>
				</div>
            </div>
        </div>
    </body>
</html>